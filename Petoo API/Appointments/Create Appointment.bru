meta {
  name: Create Appointment
  type: http
  seq: 1
}

post {
  url: {{base_url}}/api/v1/appointments
  body: json
  auth: bearer
}

headers {
  Content-Type: application/json
}

auth:bearer {
  token: {{auth_token}}
}

body:json {
  {
    "tenant-id": "a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",
    "user-id": "{{user_id}}",
    "pet-id": "{{pet_id}}",
    "professional-id": "{{professional_id}}",
    "service-id": "{{service_id}}",
    "start-time": "2026-01-25T10:00:00Z",
    "notes": "Primeira consulta do Rex"
  }
}

settings {
  encodeUrl: true
}

docs {
  Cria um novo agendamento e aguarda confirmação dos workers.
  
  Respostas possíveis:
  - 201 CONFIRMED: Agendamento confirmado com sucesso
  - 409 CONFLICT: Horário já ocupado (slot conflict)
  - 202 TIMEOUT: Processamento demorou, verificar status depois
  
  Use variáveis: {{user_id}}, {{pet_id}}, {{professional_id}}, {{service_id}}
}
