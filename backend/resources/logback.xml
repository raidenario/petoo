<configuration>
  <!-- Console Appender - All logs -->
  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
    </encoder>
  </appender>

  <!-- File Appender - Availability Worker -->
  <appender name="AVAILABILITY_FILE" class="ch.qos.logback.core.FileAppender">
    <file>logs/worker-availability.log</file>
    <append>true</append>
    <encoder>
      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level - %msg%n</pattern>
    </encoder>
  </appender>

  <!-- File Appender - Financial Worker -->
  <appender name="FINANCIAL_FILE" class="ch.qos.logback.core.FileAppender">
    <file>logs/worker-financial.log</file>
    <append>true</append>
    <encoder>
      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level - %msg%n</pattern>
    </encoder>
  </appender>

  <!-- File Appender - Projector Worker -->
  <appender name="PROJECTOR_FILE" class="ch.qos.logback.core.FileAppender">
    <file>logs/worker-projector.log</file>
    <append>true</append>
    <encoder>
      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level - %msg%n</pattern>
    </encoder>
  </appender>

  <!-- File Appender - API -->
  <appender name="API_FILE" class="ch.qos.logback.core.FileAppender">
    <file>logs/api.log</file>
    <append>true</append>
    <encoder>
      <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
    </encoder>
  </appender>

  <!-- Worker Loggers - Separate files by namespace -->
  <logger name="pet-app.workers.availability" level="DEBUG" additivity="true">
    <appender-ref ref="AVAILABILITY_FILE" />
  </logger>

  <logger name="pet-app.workers.financial" level="DEBUG" additivity="true">
    <appender-ref ref="FINANCIAL_FILE" />
  </logger>

  <logger name="pet-app.workers.projector" level="DEBUG" additivity="true">
    <appender-ref ref="PROJECTOR_FILE" />
  </logger>

  <!-- Base worker log goes to all -->
  <logger name="pet-app.workers.base" level="DEBUG" additivity="true">
    <appender-ref ref="AVAILABILITY_FILE" />
    <appender-ref ref="FINANCIAL_FILE" />
    <appender-ref ref="PROJECTOR_FILE" />
  </logger>

  <!-- API Loggers -->
  <logger name="pet-app.api" level="DEBUG" additivity="true">
    <appender-ref ref="API_FILE" />
  </logger>

  <!-- Petoo Application Logging -->
  <logger name="pet-app" level="DEBUG" />

  <!-- Suppress noisy libraries -->
  <logger name="org.apache.kafka" level="WARN" />
  <logger name="org.apache.zookeeper" level="WARN" />
  <logger name="com.zaxxer.hikari" level="INFO" />
  <logger name="org.eclipse.jetty" level="INFO" />
  <logger name="migratus" level="INFO" />

  <root level="INFO">
    <appender-ref ref="STDOUT" />
  </root>
</configuration>